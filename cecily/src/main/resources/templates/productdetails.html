<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"
	content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Hugo 0.79.0">
<title>詳細画面</title>

<link rel="stylesheet" type="text/css" href="../css/amazeui.css">
<link rel="stylesheet" type="text/css" href="../css/amazeui.switch.css">
<link rel="stylesheet" type="text/css" href="../css/amazeui.chosen.css">
<link rel="stylesheet" type="text/css" href="../css/cropper.min.css">
<link rel="stylesheet" type="text/css"
	href="../css/amazeui.tagsinput.css">

<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" type="text/css" href="../css/common(1).css">
<link rel="stylesheet" type="text/css" href="../css/goods.css">

<!-- css钩子 -->
<link rel="stylesheet" type="text/css" href="../css/style.css">
<link rel="stylesheet" type="text/css" href="../css/iconfont.css">
<link rel="stylesheet" type="text/css" href="../css/style(1).css">
<link rel="stylesheet" type="text/css" href="../css/style(2).css">
<link rel="stylesheet" type="text/css" href="../css/style(3).css">
<link rel="stylesheet" type="text/css" href="../css/style(4).css">
<link rel="stylesheet" type="text/css" href="../css/style(5).css">
<link rel="stylesheet" type="text/css" href="../css/iconfont(1).css">
<link rel="stylesheet" type="text/css" href="../css/style(6).css">
<link rel="stylesheet" type="text/css" href="../css/style(7).css">
<link rel="stylesheet" type="text/css" href="../css/style(8).css">
<link rel="stylesheet" type="text/css" href="../css/style(9).css">
<link rel="stylesheet" type="text/css" href="../css/style(10).css">
<link rel="stylesheet" type="text/css" href="../css/style(11).css">
<link rel="stylesheet" type="text/css" href="../css/style(12).css">
<link rel="stylesheet" type="text/css" href="../css/style(13).css">
<link rel="stylesheet" type="text/css" href="../css/common(2).css">



<!-- 公共header内钩子 -->
<style type="text/css">
@media only screen and (min-width:640px) {
	.plugins-homemiddleadv-home-adv ul.am-gallery img {
		-webkit-transition: transform .3s ease-in;
		-moz-transition: transform .3s ease-in;
		-ms-transition: transform .3s ease-in;
		-o-transition: transform .3s ease-in;
		transition: transform .3s ease-in;
	}
	.plugins-homemiddleadv-home-adv ul.am-gallery img:hover {
		-ms-transform: translate3d(0px, -3px, 0px);
		-webkit-transform: translate3d(0px, -3px, 0px);
		-o-transform: translate3d(0px, -3px, 0px);
		transform: translate3d(0px, -3px, 0px);
	}
}

@media only screen and (min-width:1025px) {
	.plugins-homemiddleadv-home-adv {
		overflow: hidden;
	}
	.plugins-homemiddleadv-home-adv ul.am-gallery {
		width: calc(100% + 20px);
		margin-left: -10px;
		margin-top: 10px;
	}
}
</style>
<style type="text/css">
#plugins-commongobacktop {
	display: none;
	position: fixed;
	right: 50px;
	bottom: 100px;
	z-index: 100;
	cursor: pointer;
}
</style>
<style type="text/css">
#plugins-expressforkdn-popup p {
	font-size: 16px;
	color: #FF9800;
	font-weight: 500;
	padding: 1rem;
	text-align: center;
	margin: 0;
}

#plugins-expressforkdn-popup .am-list-static>li {
	padding: .8rem 1rem;
}

#plugins-expressforkdn-popup .am-popup-bd {
	padding: 0;
}

#plugins-expressforkdn-popup .am-list>li {
	border: 1px dashed #dedede;
	border-width: 1px 0;
}
</style>
<style type="text/css">
.plugins-touristbuy-nav-top {
	color: #FF5722;
}
</style>
<link href="../css/WdatePicker.css" rel="stylesheet" type="text/css">
<link href="../css/ueditor.css" type="text/css" rel="stylesheet">
<script src="../js/ZeroClipboard.js.ダウンロード" type="text/javascript"
	defer="defer"></script>
</head>
<body style="position: static; padding-top: 0px;">
	<!--  top-->
	<header th:insert="~{indextmp::top}"></header>
	<div th:insert="~{indextmp::search}"></div>
	<header th:insert="~{indextmp::header}"></header>

	<!--  side-->

	<!-- 内容ここから -->

	<!-- 商品内容-->
	<div class="goods-detail" data-id="9"
		data-spec-detail-ajax-url="https://demo.shopxo.net/index/goods/specdetail.html"
		data-spec-type-ajax-url="https://demo.shopxo.net/index/goods/spectype.html">
		<!-- 轮播 -->
		<div class="scoll">
			<div class="slider-content">
				<div data-am-widget="slider"
					class="am-slider am-slider-a1 am-no-layout"
					data-am-slider="{&quot;directionNav&quot;:false}">

					<div class="am-viewport"
						style="overflow: hidden; position: relative;">
						<ul class="am-slides"
							style="width: 1200%; transition-duration: 0s; transform: translate3d(0px, 0px, 0px);">
							<li class="clone" aria-hidden="true"
								style="width: 0px; margin-right: 0px; float: left; display: block;">
								<img th:src="${product.productImg}" title="productName"
								draggable="false">
							</li>
							<li
								style="width: 0px; margin-right: 0px; float: left; display: block;"
								class="am-active-slide" data-thumb-alt=""><img
								th:src="${product.productImg}" title="productName"
								draggable="false"></li>
							<li data-thumb-alt=""
								style="width: 0px; margin-right: 0px; float: left; display: block;">
								<img th:src="${product.productImg}" title="productName"
								draggable="false">
							</li>
							<li data-thumb-alt=""
								style="width: 0px; margin-right: 0px; float: left; display: block;">
								<img th:src="${product.productImg}" title="productName"
								draggable="false">
							</li>
							<li data-thumb-alt=""
								style="width: 0px; margin-right: 0px; float: left; display: block;">
								<img th:src="${product.productImg}" title="productName"
								draggable="false">
							</li>
							<li
								style="width: 0px; margin-right: 0px; float: left; display: block;"
								class="clone" aria-hidden="true"><img
								th:src="${product.productImg}" title="productName"
								draggable="false"></li>
						</ul>
					</div>

				</div>
			</div>
		</div>



	</div>


	<!-- 基础信息 -->
	<div class="item-inform am-container">
		<!-- pc放大镜 / 左侧 -->
		<div class="clearfix-left" id="clearcontent">
			<div class="box">
				<div class="tb-booth tb-pic tb-s310">
					<img th:src="${product.productImg}" alt=""
						th:rel="${product.productImg}" class="jqzoom"
						style="cursor: crosshair;">

				</div>
				<ul class="tb-thumb" id="thumblist">
					<li class="tb-selected">
						<div class="tb-pic tb-s40">

							<a href="javascript:;"> <img th:src="${product.productImg}"
								th:mid="${product.productImg}" th:big="${product.productImg}"
								class="tb-s40">
							</a>
						</div>
					</li>
					<li class="tb-pic">
						<div class="tb-pic tb-s40">
							<a> <img th:src="${product.productImg}"
								th:mid="${product.productImg}" th:big="${product.productImg}"
								class="tb-s40"></a>

						</div>
					</li>
					<li class="tb-pic">
						<div class="tb-pic tb-s40">
							<a> <img th:src="${product.productImg}"
								th:mid="${product.productImg}" th:big="${product.productImg}"
								class="tb-s40">
							</a>
						</div>
					</li>
					<li class="tb-pic">
						<div class="tb-pic tb-s40">
							<a> <img th:src="${product.productImg}"
								th:mid="${product.productImg}" th:big="${product.productImg}"
								class="tb-s40">
							</a>
						</div>
					</li>
				</ul>

				<!-- <div
					class="am-cf plugins-goodsphototag plugins-goodsphototag-top-right">
					<img src="../img/1561283545412820.png" alt="商品标签">
				</div> -->
			</div>
		</div>



		<!--                                                            -->
		<!-- 右侧 -->
		<div class="clearfix-right">

			<!-- 右侧内容 -->
			<div class="clearfix-right-content">

				<!--规格/名称-->
				<div class="tb-detail-hd">
					<h1 class="detail-title am-margin-bottom-xs">[[${product.productName}]]</h1>
				</div>
				<div class="tb-detail-list">
					<!-- 公共面板数据 -->

					<!-- 商品页面基础信息顶部钩子 -->

					<!-- 基础面板 -->
					<div class="tb-detail-price">
						<!-- 商品页面基础信息面板售价顶部钩子 -->
						<!-- 售价 -->
						<div class="items price iteminfo_mktprice">
							<dd>
								<em>￥</em> <b class="goods-price" data-original-price="">[[${product.productPrice}]]</b>
								<br> <br> <br>

								<p class="card-text">
									<small class="text-muted">※写真はイメージです。</small>
								</p>
							</dd>
						</div>
					</div>
					<!--各种规格-->
					<dl class="iteminfo_parameter sys_item_specpara">
						<dd>
							<!--操作页面-->
							<div class="theme-popover-mask" style="display: none;"></div>
							<div class="theme-popover">
								<div class="theme-span"></div>
								<div class="theme-popbod dform">
									<div class="theme-signin-left">
									<br>
										<!-- 库存数量 -->
										<ul class="plugins-ordergoodsform-goods-detail">
											<li>
												<p class="title am-inline-block ">メーカ</p>
												<p class="value am-inline-block" data-form-id="1"
													data-title="maker" data-value="">
													<input class="am-form-field am-input-sm am-radius"
														type="text" readonly th:value="${product.maker}">
												</p>
											</li>
											
											<li>
												<p class="title am-inline-block ">説明</p>
												<p class="value am-inline-block" data-form-id="1"
													data-title="默认" data-value="hello默认设置的值">
													<input class="am-form-field am-input-sm am-radius"
														type="text" readonly th:value="${product.productContents}">
												</p>
											</li>
											
											<li>
												<p class="title am-inline-block ">库存</p>
												<p class="value am-inline-block" data-form-id="1"
													data-title="默认" data-value="hello默认设置的值">
													<input class="am-form-field am-input-sm am-radius"
														type="text" readonly th:value="${product.stock}">
												</p>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</dd>
					</dl>
				</div>

				<!-- 商品页面购买导航顶部钩子 -->

				<!-- 购买导航 -->
				<div class="buy-nav">
					<div class="buy-nav-opt buy-nav-opt-button-number-2"></div>
					<!-- th:text="${product.favoriteId == null?'♡気に入りに追加する':'❤気に入り済み'}" -->
					<!-- 购买表单 -->
					<button th:id="${product.productId}"
					th:text="${product.userId ==0? '♡気に入り':(product.userId eq session?.userLogin?.userId?'❤気に入り済み':'♡気に入り')}"
						th:onclick="|clickPost(${product.productId})|">気に入り</button>
						
						

					<button th:onclick="|clickCart(${product.productId})|">かごに追加する</button>

				</div>

			</div>
		</div>

	</div>



	<!-- 内容ここまで -->

	<footer th:insert="~{indextmp::footer}"></footer>
	<!-- 图片放大镜 -->
	<script type="text/javascript"
		src="../js/jquery.imagezoom.min.js.ダウンロード"></script>

	<!-- echarts 图表 -->
	<script type="text/javascript" src="../js/echarts.min.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/macarons.js.ダウンロード"></script>

	<!-- amazeui插件 -->
	<script type="text/javascript" src="../js/amazeui.switch.min.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/amazeui.chosen.min.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/amazeui.dialog.js.ダウンロード"></script>
	<script type="text/javascript"
		src="../js/amazeui.tagsinput.min.js.ダウンロード"></script>

	<!-- 图像裁剪插件 -->
	<script type="text/javascript" src="../js/cropper.min.js.ダウンロード"></script>

	<!-- 复制插件 -->
	<script type="text/javascript" src="../js/clipboard.min.js.ダウンロード"></script>

	<!-- 元素拖拽排序插件 -->
	<script type="text/javascript"
		src="../js/jquery.dragsort-0.5.2.min.js.ダウンロード"></script>

	<!-- ueditor 编辑器 -->
	<script type="text/javascript" src="../js/ueditor.config.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/ueditor.all.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/zh-cn.js.ダウンロード"></script>

	<!-- 颜色选择器 -->
	<script type="text/javascript" src="../js/jquery.colorpicker.js.ダウンロード"></script>

	<!-- 日期组件 -->
	<script type="text/javascript" src="../js/WdatePicker.js.ダウンロード"></script>
	<!-- 项目公共 -->
	<script type="text/javascript" src="../js/common.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/common.js(1).ダウンロード"></script>

	<!-- 应用插件公共js -->

	<!-- 当前控制器js -->
	<script type="text/javascript" src="../js/goods.js.ダウンロード"></script>

	<!-- 底部信息 -->

	<!-- js钩子 -->
	<script type="text/javascript" src="../js/style.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(1).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(2).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(3).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(4).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(5).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(6).ダウンロード"></script>
	<script type="text/javascript" src="../js/common.js(2).ダウンロード"></script>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script>
		//「POSTで遷移（Ajax）」気に入りボタン押下時の処理
		function clickPost(productId) {

			var p = {
				id : productId
			};

			$.ajax({
				//MyCartControlleradd()メソッドに遷移
				url : '/part/myfavorite',
				type : 'POST',
				timeout : 60000,
				data : p,
				async : false,
				dataType : "json"
			})

			//Ajax通信成功の場合
			.done(function(data) {
				if ((data == productId)) {
					$('#' + productId).text('❤' + '気に入り済');
					alert('気に入りに追加済み!');

				} else if (data == 0) {
					$('#' + productId).text('♡' + '気に入り');
					alert('気に入り取消ました!');

				} else {
					alert('先にログインしてください!');
				}

			})
			//Ajax通信失敗の場合
			.fail(function() {
				alert('追加失敗しました!ログインしてください!');
			})
			//Ajax通信の成功・失敗に関わらず最後に処理
			.always(function() {
				//alert('end');
			});

		}
	</script>

	<script>
		//「POSTで遷移（Ajax）」買い物かごボタン押下時の処理

		function clickCart(productId) {

			var pro = {
				id : productId
			};

			$.ajax({
				//MainControllerのpostIndex()メソッドに遷移
				url : '/addMyCart',
				type : 'POST',
				timeout : 60000,
				data : pro,
				async : false,
				dataType : "json"
			})

			//Ajax通信成功の場合
			.done(function(data) {

				if (data != 0) {
					//	$('#myCart').addClass('am-badge am-badge-danger');
					//$toast("買い物かごに追加済み!");
					$('#myCart').text(data);

					alert('買い物かごに追加済み!');

				
				}

			})
			//Ajax通信失敗の場合
			.fail(function() {
				alert('追加失敗しました!ログインしてください!');
			})
			//Ajax通信の成功・失敗に関わらず最後に処理
			.always(function() {

			});

		}
	</script>


</body>
</html>