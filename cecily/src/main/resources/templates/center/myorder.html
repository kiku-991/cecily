<!DOCTYPE html>
<!-- saved from url=(0032)https://demo.shopxo.net/buy.html -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>订单确认</title>
<link rel="stylesheet" type="text/css" href="../css/amazeui.css">
<link rel="stylesheet" type="text/css" href="../css/amazeui.switch.css">
<link rel="stylesheet" type="text/css" href="../css/amazeui.chosen.css">
<link rel="stylesheet" type="text/css" href="../css/cropper.min.css">
<link rel="stylesheet" type="text/css"
	href="../css/amazeui.tagsinput.css">

<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" type="text/css" href="../css/common(1).css">
<link rel="stylesheet" type="text/css" href="../css/order.css">

<!-- css钩子 -->
<link rel="stylesheet" type="text/css" href="../css/iconfont.css">
<link rel="stylesheet" type="text/css" href="../css/style.css">
<link rel="stylesheet" type="text/css" href="../css/style(1).css">
<link rel="stylesheet" type="text/css" href="../css/style(2).css">
<link rel="stylesheet" type="text/css" href="../css/style(3).css">
<link rel="stylesheet" type="text/css" href="../css/style(4).css">
<link rel="stylesheet" type="text/css" href="../css/iconfont(1).css">
<link rel="stylesheet" type="text/css" href="../css/style(5).css">
<link rel="stylesheet" type="text/css" href="../css/style(6).css">
<link rel="stylesheet" type="text/css" href="../css/style(7).css">
<link rel="stylesheet" type="text/css" href="../css/style(8).css">
<link rel="stylesheet" type="text/css" href="../css/style(9).css">
<link rel="stylesheet" type="text/css" href="../css/style(10).css">
<link rel="stylesheet" type="text/css" href="../css/common(2).css">


<!-- CSS only -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- <script type="text/javascript">
	var __root__ = 'https://demo.shopxo.net/';
	var __my_url__ = 'https://demo.shopxo.net/';
	var __my_public_url__ = 'https://demo.shopxo.net/';
	var __public__ = 'https://demo.shopxo.net/';
	var __default_theme__ = 'default';
	var __attachment_host__ = 'https://demo.shopxo.net';
	var __seo_url_suffix__ = 'html';
	var __user_id__ = 71192;
	var __currency_symbol__ = '￥';
</script> -->

<!-- 公共header内钩子 -->
<style type="text/css">
@media only screen and (min-width:640px) {
	.plugins-homemiddleadv-home-adv ul.am-gallery img {
		-webkit-transition: transform .3s ease-in;
		-moz-transition: transform .3s ease-in;
		-ms-transition: transform .3s ease-in;
		-o-transition: transform .3s ease-in;
		transition: transform .3s ease-in;
	}
	.plugins-homemiddleadv-home-adv ul.am-gallery img:hover {
		-ms-transform: translate3d(0px, -3px, 0px);
		-webkit-transform: translate3d(0px, -3px, 0px);
		-o-transform: translate3d(0px, -3px, 0px);
		transform: translate3d(0px, -3px, 0px);
	}
}

@media only screen and (min-width:1025px) {
	.plugins-homemiddleadv-home-adv {
		overflow: hidden;
	}
	.plugins-homemiddleadv-home-adv ul.am-gallery {
		width: calc(100% + 20px);
		margin-left: -10px;
		margin-top: 10px;
	}
}
</style>
<style type="text/css">
#plugins-commongobacktop {
	display: none;
	position: fixed;
	right: 50px;
	bottom: 100px;
	z-index: 100;
	cursor: pointer;
}
</style>
<style type="text/css">
#plugins-expressforkdn-popup p {
	font-size: 16px;
	color: #FF9800;
	font-weight: 500;
	padding: 1rem;
	text-align: center;
	margin: 0;
}

#plugins-expressforkdn-popup .am-list-static>li {
	padding: .8rem 1rem;
}

#plugins-expressforkdn-popup .am-popup-bd {
	padding: 0;
}

#plugins-expressforkdn-popup .am-list>li {
	border: 1px dashed #dedede;
	border-width: 1px 0;
}
</style>
<style type="text/css">
.plugins-touristbuy-nav-top {
	color: #FF5722;
}
</style>
<link href="../css/WdatePicker.css" rel="stylesheet" type="text/css">
<link href="../css/ueditor.css" type="text/css" rel="stylesheet">
<script src="../js/ZeroClipboard.js.ダウンロード" type="text/javascript"
	defer="defer"></script>
</head>
<body style="padding-top: 0px;">
	<!-- css钩子 -->

	<!-- 公共header内钩子 -->

	<!-- 公共顶部钩子 -->
	<div class="am-modal multilingual-page-loading" style="display: none;">
		<span class="am-icon-spinner am-icon-pulse am-icon-lg"></span>
	</div>
	<!-- header top nav -->
	<!-- 顶部导航条 start -->

	<header th:insert="~{indextmp::top}"></header>
	<!-- 顶部导航条 end

	<!-- search -->
	<!-- 搜索框 start -->

	<div th:insert="~{indextmp::search}"></div>

	<header th:insert="~{indextmp::header}"></header>
	<!-- content -->
	<div class="am-container">
		<div class="link-list">

			<div class="am-scrollable-horizontal am-table-scrollable-horizontal"
				data-md5-key="225ec83468d4b0336fa71afdb5db6b10">
				<table
					class="am-table am-table-striped am-table-hover am-table-bordered am-text-nowrap form-table-data-list">
					<thead>
						<tr>
							<th class="am-text-center" style="min-width: 80px;"></th>
							<th class="am-grid-xl">基础信息</th>
							<th class="">订单状态</th>
							<th class="">支付状态</th>
							<th>总价(元)</th>
							<th class="">支付金额(元)</th>
							<th>单价(元)</th>
							<th class="am-grid-sm">地址信息</th>
							<th class="" style="min-width: 125px;">取货信息</th>
							<th>购买总数</th>
							<th class="">支付方式</th>
							<th class="">快递公司</th>
							<th class="">快递单号</th>
							<th class="">确认时间</th>
							<th class="">支付时间</th>
							<th class="">发货时间</th>
							<th class="">收货时间</th>
							<th class="">取消时间</th>
							<th class="">关闭时间</th>
							<th class="">创建时间</th>
							<th class="">更新时间</th>
							<th
								class="am-text-center am-grid-fixed-right am-operate-grid  am-grid-fixed-right-shadow"
								style="width: 119px; right: 0.00650024px;" data-width="119"
								data-right="0.006500244140625">操作</th>
						</tr>


					</thead>
					<tbody>
						<tr id="data-list-4495" th:each="my : ${myoder}">
							<td class="am-nowrap-initialam-text-center "
								style="min-width: 80px;"></td>
							<td class="am-nowrap-initialam-grid-xl ">
								<p class="am-margin-bottom-sm">
									<strong class="am-icon-bookmark-o"> [[${my.orderId}]]</strong>
									<span class="warehouse-item-container am-fr"> <i
										class="am-icon-cube"></i> <strong class="warehouse-name">[[${my.storeName}]]</strong>
									</span>
								</p>
								<hr data-am-widget="divider"
									class="am-divider am-divider-dashed am-margin-top-0 am-no-layout">
								<div class="am-nbfc">
									<a href="https://demo.shopxo.net/goods-9.html" target="_blank">
										<img th:src="${my.productImg}"
										class="am-img-thumbnail am-radius am-margin-right-xs am-fl"
										width="60" height="60">
									</a>
									<div class="am-nbfc">
										<a href="/#" target="_blank" class="am-nowrap-initial">[[${my.productName}]]</a>
									</div>
								</div>
								<div class="am-nbfc am-margin-top-xs">
									<span class="original-price am-margin-right-xs"></span> <span>￥[[${my.productPrice}]]</span>

									<div class="am-fr"></div>
								</div>
								<hr data-am-widget="divider"
									class="am-divider am-divider-dashed am-no-layout">
								<div class="am-margin-top-sm">共[[${my.productQuantity}]]件
									合计:￥[[${my.productPrice}]]</div>
							</td>
							<td class="am-nowrap-initial"
								th:text="${my.orderStatus==0?'等待支付':'已支付'}"></td>
							<td class="am-nowrap-initial">
								<p>待支付</p>
								<p class="am-text-warning">线下支付</p>
							</td>
							<td class="am-nowrap-initial" th:text="${my.productPrice}"></td>
							<td class="am-nowrap-initial">支付金额</td>
							<td class="am-nowrap-initial" th:text="${my.productPrice}"></td>
							<td class="am-nowrap-initialam-grid-sm ">
								<div>
									<span class="am-badge am-badge-secondary-plain am-radius">[[${addresss.renrakuname}]]</span>
									<span class="am-margin-left-sm">[[${addresss.renrakuphone}]]</span>
								</div>
								<div class="am-margin-top-xs">
									<span>[[${addresss.dtodoufuken}]]</span> <span>[[${addresss.dshikucyouson}]]</span>
									<span>[[${addresss.dcyoumebanchi}]]</span>
									<div class="am-margin-top-xs"></div>
								</div>
							</td>
							<td class="am-nowrap-initial" style="min-width: 125px;">取货</td>
							<td class="am-nowrap-initial">my.purchasingQuantity</td>
							<td class="am-nowrap-initial">支付方式</td>
							<td class="am-nowrap-initial">快递公司</td>
							<td class="am-nowrap-initial">快递单号</td>
							<td class="am-nowrap-initial">确认时间</td>
							<td class="am-nowrap-initial">支付时间</td>
							<td class="am-nowrap-initial">发货时间</td>
							<td class="am-nowrap-initialam-grid-sm ">完成时间</td>
							<td class="am-nowrap-initial">取消时间</td>
							<td class="am-nowrap-initial">关闭时间</td>
							<td class="am-nowrap-initial" th:text="${my.createdate}"></td>
							<td class="am-nowrap-initial">更新时间</td>
							<td
								class="am-nowrap-initial am-text-center am-grid-fixed-right am-operate-grid  am-grid-fixed-right-shadow"
								style="width: 119px; right: 0.00650024px;" data-width="119"
								data-right="0.006500244140625"><a href="/#"
								class="am-btn am-btn-default am-btn-xs am-radius am-btn-block"
								target="_blank"> <span>详情</span>
							</a>
								<button type="button"
									class="am-btn am-btn-warning am-btn-xs am-radius am-btn-block submit-ajax submit-cancel"
									data-url="/#" data-id="4495" data-view="reload">
									<span>取消</span>
								</button> <!-- Button trigger modal -->
								<button type="button"
									class="am-btn am-btn-primary am-btn-xs am-radius am-btn-block submit-pay"
									data-bs-toggle="modal"
									th:data-bs-target="'#pay'+${my.productId}">支付</button>
								</td>
								<div class="modal fade" th:id="'pay'+${my.productId}"
									data-bs-backdrop="pay" data-bs-keyboard="false" tabindex="-1"
									aria-labelledby="payLabel" aria-hidden="true">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<h5 class="modal-title" id="payLabel">请选择支付</h5>
												<button type="button" class="btn-close"
													data-bs-dismiss="modal" aria-label="Close"></button>
											</div>
											<div class="modal-body">

												<div class="form-check form-check-inline">
													<input class="form-check-input" type="radio"
														name="inlineRadioOptions" id="inlineRadio1" value="1">
													<label class="form-check-label" for="inlineRadio1">支付宝</label>
												</div>
												<div class="form-check form-check-inline">
													<input class="form-check-input" type="radio"
														name="inlineRadioOptions" id="inlineRadio2" value="2">
													<label class="form-check-label" for="inlineRadio2">信用卡支付</label>
												</div>
												<div class="form-check form-check-inline">
													<input class="form-check-input" type="radio"
														name="inlineRadioOptions" id="inlineRadio3" value="3">
													<label class="form-check-label" for="inlineRadio3">货到付款
													</label>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary"
														data-bs-dismiss="modal">キャンセル</button>
													<button type="button" id="${my.productId}" class="btn btn-danger" th:onclick="|getPay(${my.productId})|">確定</button>
												</div>

											</div>
										</div>
									</div>
								</div>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- Modal -->
			<!-- 订单确认页面底部钩子-结束 -->
		</div>
	</div>

	<!-- 订单确认页面底部钩子-开始 -->





	<!-- footer start -->

	<!-- Ajax -->
	<script src="../ajax/jquery.min.js"></script>

	<script>
		function getPay(productId) {

			var selValue = $("input[type='radio']:checked").val();

			var method = {
				
				method : selValue
			};

		
			$.ajax({
				url : '/getPaymethod',
				type : 'POST',
				timeout : 60000,
				data : method,
				async : false,
				dataType : "json"
			})
			//Ajax通信成功の場合
			.done(function(data) {

				alert(data);
				//window.location.href = "/aripay/{id}(id="+productId+")"
				if (data == 1) {
					window.location.href = "/aripay/"+productId+""
				} else if (data == 2) {
					window.location.href = "/creditpay"+productId+""
				} else {
					window.location.href = 'daofu';
				}

			})
			//Ajax通信失敗の場合
			.fail(function() {
				alert("---");
			})
			//Ajax通信の成功・失敗に関わらず最後に処理
			.always(function() {

			});

		}
	</script>














	<!-- JavaScript Bundle with Popper -->
	<script src="https://ajaxzip3.github.io/ajaxzip3.js" charset="UTF-8"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>

	<script type="text/javascript" src="../js/common.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/common.js(1).ダウンロード"></script>

	<!-- 应用插件公共js -->

	<!-- 当前控制器js -->
	<script type="text/javascript" src="../js/order.js.ダウンロード"></script>

	<!-- 底部信息 -->

	<!-- js钩子 -->
	<script type="text/javascript" src="../js/style.js.ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(1).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(2).ダウンロード"></script>
	<script type="text/javascript" src="../jsstyle.js(3).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(4).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(5).ダウンロード"></script>
	<script type="text/javascript" src="../js/style.js(6).ダウンロード"></script>
	<script type="text/javascript" src="../js/common.js(2).ダウンロード"></script>




</body>
</html>